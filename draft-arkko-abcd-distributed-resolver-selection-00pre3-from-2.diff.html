<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.34: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Darwin m36.nomadiclab.com 16.7.0 Darwin Kernel Version 16.7.0: Sun Jun  2 20:26:31 PDT 2019; root:xnu-3789.73.50~1/RELEASE_X86_64 x86_64 --> 
<!-- Using awk: /opt/local/bin/gawk: GNU Awk 5.0.0, API: 2.0 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 2.8.1 --> 
<!-- Using wdiff: /opt/local/bin/wdiff: wdiff (GNU wdiff) 1.2.2 --> 
<html> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: draft-arkko-abcd-distributed-resolver-selection-00pre2.txt - draft-arkko-abcd-distributed-resolver-selection-00pre3.txt</title> 
  <style type="text/css"> 
    body    { margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;draft-arkko-abcd-distributed-resolver-selection-00pre2.txt&nbsp;</th><th> </th><th>&nbsp;draft-arkko-abcd-distributed-resolver-selection-00pre3.txt&nbsp;</th><th></th></tr> 
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Network Working Group                                           J. Arkko</td><td> </td><td class="right">Network Working Group                                           J. Arkko</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Internet-Draft                                                  Ericsson</td><td> </td><td class="right">Internet-Draft                                                  Ericsson</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Intended status: Informational                                M. Thomson</td><td> </td><td class="right">Intended status: Informational                                M. Thomson</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">Expires: <span class="delete">April 28, 2020</span>                                          Mozilla</td><td> </td><td class="rblock">Expires: <span class="insert">May 4, 2020   </span>                                          Mozilla</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                               T. Hardie</td><td> </td><td class="right">                                                               T. Hardie</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                  Google</td><td> </td><td class="right">                                                                  Google</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                       <span class="delete"> October 26</span>, 2019</td><td> </td><td class="rblock">                                                       <span class="insert">November 01</span>, 2019</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      Selecting Resolvers from a Set of Distributed DNS Resolvers</td><td> </td><td class="right">      Selecting Resolvers from a Set of Distributed DNS Resolvers</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">            draft-arkko-abcd-distributed-resolver-selection</td><td> </td><td class="right">            draft-arkko-abcd-distributed-resolver-selection</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Abstract</td><td> </td><td class="right">Abstract</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This memo discusses the use of a set of different DNS resolvers to</td><td> </td><td class="right">   This memo discusses the use of a set of different DNS resolvers to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   reduce privacy problems related to resolvers learning the Internet</td><td> </td><td class="right">   reduce privacy problems related to resolvers learning the Internet</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   usage patterns of their clients.</td><td> </td><td class="right">   usage patterns of their clients.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> page 1, line 35</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> page 1, line 35</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Internet-Drafts are working documents of the Internet Engineering</td><td> </td><td class="right">   Internet-Drafts are working documents of the Internet Engineering</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Task Force (IETF).  Note that other groups may also distribute</td><td> </td><td class="right">   Task Force (IETF).  Note that other groups may also distribute</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   working documents as Internet-Drafts.  The list of current Internet-</td><td> </td><td class="right">   working documents as Internet-Drafts.  The list of current Internet-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Drafts is at https://datatracker.ietf.org/drafts/current/.</td><td> </td><td class="right">   Drafts is at https://datatracker.ietf.org/drafts/current/.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Internet-Drafts are draft documents valid for a maximum of six months</td><td> </td><td class="right">   Internet-Drafts are draft documents valid for a maximum of six months</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   and may be updated, replaced, or obsoleted by other documents at any</td><td> </td><td class="right">   and may be updated, replaced, or obsoleted by other documents at any</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   time.  It is inappropriate to use Internet-Drafts as reference</td><td> </td><td class="right">   time.  It is inappropriate to use Internet-Drafts as reference</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   material or to cite them other than as "work in progress."</td><td> </td><td class="right">   material or to cite them other than as "work in progress."</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   This Internet-Draft will expire on <span class="delete">April 28</span>, 2020.</td><td> </td><td class="rblock">   This Internet-Draft will expire on <span class="insert">May 4</span>, 2020.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Copyright Notice</td><td> </td><td class="right">Copyright Notice</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Copyright (c) 2019 IETF Trust and the persons identified as the</td><td> </td><td class="right">   Copyright (c) 2019 IETF Trust and the persons identified as the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   document authors.  All rights reserved.</td><td> </td><td class="right">   document authors.  All rights reserved.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This document is subject to BCP 78 and the IETF Trust's Legal</td><td> </td><td class="right">   This document is subject to BCP 78 and the IETF Trust's Legal</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Provisions Relating to IETF Documents</td><td> </td><td class="right">   Provisions Relating to IETF Documents</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   (https://trustee.ietf.org/license-info) in effect on the date of</td><td> </td><td class="right">   (https://trustee.ietf.org/license-info) in effect on the date of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   publication of this document.  Please review these documents</td><td> </td><td class="right">   publication of this document.  Please review these documents</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   carefully, as they describe your rights and restrictions with respect</td><td> </td><td class="right">   carefully, as they describe your rights and restrictions with respect</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   to this document.  Code Components extracted from this document must</td><td> </td><td class="right">   to this document.  Code Components extracted from this document must</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   include Simplified BSD License text as described in Section 4.e of</td><td> </td><td class="right">   include Simplified BSD License text as described in Section 4.e of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the Trust Legal Provisions and are provided without warranty as</td><td> </td><td class="right">   the Trust Legal Provisions and are provided without warranty as</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   described in the Simplified BSD License.</td><td> </td><td class="right">   described in the Simplified BSD License.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Table of Contents</td><td> </td><td class="right">Table of Contents</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2</td><td> </td><td class="right">   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   2.  Goals and Constraints . . . . . . . . . . . . . . . . . . . .   <span class="delete">3</span></td><td> </td><td class="rblock">   2.  <span class="insert">Operational Context . . . . . . . . . . . . . . . . . . . . .   4</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   3.</span>  Query distribution <span class="delete">algorithms</span> . . . . . . . . . . . . . . . .   <span class="delete">4</span></td><td> </td><td class="rblock"><span class="insert">   3.</span>  Goals and Constraints . . . . . . . . . . . . . . . . . . . .   <span class="insert">4</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">     3.1.</span>  Client-based  . . . . . . . . . . . . . . . . . . . . . .   <span class="delete">5</span></td><td> </td><td class="rblock"><span class="insert">   4.</span>  Query distribution <span class="insert">strategies</span> . . . . . . . . . . . . . . . .   <span class="insert">5</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       3.1.1.</span>  Analysis of client-based selection  . . . . . . . . .   <span class="delete">5</span></td><td> </td><td class="rblock"><span class="insert">     4.1.</span>  Client-based  . . . . . . . . . . . . . . . . . . . . . .   <span class="insert">6</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       3.1.2.</span>  Enhancements to client-based selection  . . . . . . .   <span class="delete">6</span></td><td> </td><td class="rblock"><span class="insert">       4.1.1.</span>  Analysis of client-based selection  . . . . . . . . .   <span class="insert">6</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">     3.2.</span>  Name-based  . . . . . . . . . . . . . . . . . . . . . . .   <span class="delete">6</span></td><td> </td><td class="rblock"><span class="insert">       4.1.2.</span>  Enhancements to client-based selection  . . . . . . .   <span class="insert">7</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       3.2.1.</span>  Name reduction  . . . . . . . . . . . . . . . . . . .   <span class="delete">6</span></td><td> </td><td class="rblock"><span class="insert">     4.2.</span>  Name-based  . . . . . . . . . . . . . . . . . . . . . . .   <span class="insert">7</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   4.</span>  Effects of query distribution . . . . . . . . . . . . . . . .   <span class="delete">7</span></td><td> </td><td class="rblock"><span class="insert">       4.2.1.</span>  Name reduction  . . . . . . . . . . . . . . . . . . .   <span class="insert">8</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">     4.1.</span>  Caching considerations  . . . . . . . . . . . . . . . . .   <span class="delete">7</span></td><td> </td><td class="rblock"><span class="insert">   5.  Early conclusions . . . . . . . . . . . . . . . . . . . . . .   8</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">     4.2.</span>  Consistency considerations  . . . . . . . . . . . . . . .   <span class="delete">7</span></td><td> </td><td class="rblock"><span class="insert">     5.1.  Poor distribution strategies  . . . . . . . . . . . . . .   9</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">     4.3.</span>  Resolver load distribution  . . . . . . . . . . . . . . .   <span class="delete">8</span></td><td> </td><td class="rblock"><span class="insert">   6.</span>  Effects of query distribution . . . . . . . . . . . . . . . .   <span class="insert">9</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">     4.4.  Query performance</span> . . . . . . . . . . . . . . . . . . . .   <span class="delete">8</span></td><td> </td><td class="rblock"><span class="insert">     6.1.</span>  Caching considerations  . . . . . . . . . . . . . . . . .  <span class="insert">10</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   5.  Poor distribution algorithms</span>  . . . . . . . . . . . . . . . .   <span class="delete">8</span></td><td> </td><td class="rblock"><span class="insert">     6.2.</span>  Consistency considerations  . . . . . . . . . . . . . . .  <span class="insert">10</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   6.</span>  Further work  . . . . . . . . . . . . . . . . . . . . . . . .   <span class="delete">9</span></td><td> </td><td class="rblock"><span class="insert">     6.3.</span>  Resolver load distribution <span class="insert">and failover</span> . . . . . . . . .  <span class="insert">10</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   7.</span>  References  . . . . . . . . . . . . . . . . . . . . . . . . .   <span class="delete">9</span></td><td> </td><td class="rblock"><span class="insert">     6.4.  Query performance</span> . . . . . . . . . . . . . . . . . . . .  <span class="insert">10</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">     7.1.</span>  Normative References  . . . . . . . . . . . . . . . . . .   <span class="delete">9</span></td><td> </td><td class="rblock"><span class="insert">     6.5.  Debugging</span> . . . . . . . . . . . . . . . . . . . . . . <span class="insert">. .  11</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">     7.2.</span>  Informative References  . . . . . . . . . . . . . . . . .   <span class="delete">9</span></td><td> </td><td class="rblock"><span class="insert">   7.</span>  Further work  . . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">11</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">     7.3.</span>  URIs  . . . . . . . . . . . . . . . . . . . . . . . . . .   <span class="delete">9</span></td><td> </td><td class="rblock"><span class="insert">   8.</span>  References  . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">11</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Appendix A.  Acknowledgements . . . . . . . . . . . . . . . . . .  <span class="delete">10</span></td><td> </td><td class="rblock"><span class="insert">     8.1.</span>  Normative References  . . . . . . . . . . . . . . . . . .  <span class="insert">11</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">10</span></td><td> </td><td class="rblock"><span class="insert">     8.2.</span>  Informative References  . . . . . . . . . . . . . . . . .  <span class="insert">12</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">     8.3.</span>  URIs  . . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">12</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   Appendix A.  Acknowledgements . . . . . . . . . . . . . . . . . .  <span class="insert">12</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">12</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">1.  Introduction</td><td> </td><td class="right">1.  Introduction</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   The DNS <span class="delete">protocol</span> [DNS] <span class="delete">provides no confidentiality; and therefore no</span></td><td> </td><td class="rblock">   The DNS [DNS] <span class="insert">is a complex system with many different security</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   privacy protections for queries.  Encryption of DNS transport between</span></td><td> </td><td class="rblock"><span class="insert">   issues, challenges, deployment models</span> and <span class="insert">usage patterns.  This</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   stub and recursive resolvers as defined in [DOT]</span> and <span class="delete">[DOH] provides</span></td><td> </td><td class="rblock"><span class="insert">   document focuses on one narrow aspect within</span> DNS and <span class="insert">its security.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   confidentiality for</span> DNS <span class="delete">queries between a stub</span> and <span class="delete">a recursive</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   resolver.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">Recursive resolvers present</span> a <span class="delete">privacy dichotomy for clients.  A</span></td><td> </td><td class="rblock">   <span class="insert">Traditionally, systems are configured with</span> a <span class="insert">single DNS</span> recursive</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   recursive <span class="delete">resolver that aggregates queries from multiple clients</span></td><td> </td><td class="rblock">   <span class="insert">resolver, or</span> a <span class="insert">set</span> of <span class="insert">primary</span> and <span class="insert">alternate</span> recursive <span class="insert">resolvers.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   provides</span> a <span class="delete">measure</span> of <span class="delete">anonymity for those clients, both for</span></td><td> </td><td class="rblock"><span class="insert">   Recursive</span> resolver <span class="insert">services are offered by organisations such as</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   authoritative servers</span> and <span class="delete">from other observers on the network.</span></td><td> </td><td class="rblock"><span class="insert">   enterprises, ISPs,</span> and <span class="insert">global providers.  Even when clients use</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   Aggregating requests from multiple clients makes it difficult for</span></td><td> </td><td class="rblock"><span class="insert">   alternate</span> recursive <span class="insert">resolvers, they are typically all provided by the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   these entities to correlate queries with specific clients.  The</span></td><td> </td><td class="rblock"><span class="insert">   same organisation.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   potential for a recursive to answer queries from cache further</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   improves this privacy advantage, while providing significant query</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   latency gains.  However, because the</span> recursive resolver <span class="delete">sees</span> and <span class="delete">can</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   record DNS queries, using a</span> recursive <span class="delete">resolver creates a privacy</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   exposure for clients.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   A client might decide to trust a particular recursive resolver with</td><td> </td><td class="rblock">   <span class="insert">The resolvers will learn the Internet usage patterns of their</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   information about DNS queries.  However, it is difficult or</td><td> </td><td class="rblock"><span class="insert">   clients.</span>  A client might decide to trust a particular recursive</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   impossible to provide any guarantees about data handling practices in</td><td> </td><td class="rblock">   resolver with information about DNS queries.  However, it is</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   the general case.  And even if a service can be trusted to respect</td><td> </td><td class="rblock">   difficult or impossible to provide any guarantees about data handling</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   privacy with respect to handling of query data, legal and commercial</td><td> </td><td class="rblock">   practices in the general case.  And even if a service can be trusted</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   pressures or surveillance activity could result misuse of data.</td><td> </td><td class="rblock">   to respect privacy with respect to handling of query data, legal and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Similarly, <span class="delete">it is not possible to make any guarantees about</span> attacks <span class="delete">on</span></td><td> </td><td class="rblock">   commercial pressures or surveillance activity could result <span class="insert">in</span> misuse</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   of data.  Similarly, <span class="insert">outside</span> attacks <span class="insert">may occur towards any DNS</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   services.  For a service with many clients, these risks are</td><td> </td><td class="right">   services.  For a service with many clients, these risks are</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   particularly undesirable.</td><td> </td><td class="right">   particularly undesirable.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   This memo <span class="delete">describes techniques for distributing</span> DNS <span class="delete">queries between</span></td><td> </td><td class="rblock">   This memo <span class="insert">discusses whether</span> DNS <span class="insert">clients can improve their privacy</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   multiple recursive <span class="delete">resolvers from a known set.</span>  The goal is <span class="delete">to reduce</span></td><td> </td><td class="rblock"><span class="insert">   through the potential use of a set of</span> multiple recursive <span class="insert">resolver</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   the amount of information that any signal DNS resolver</span> is <span class="delete">able to</span></td><td> </td><td class="rblock"><span class="insert">   services.</span>  The goal is <span class="insert">indeed an improvement only.  There</span> is <span class="insert">no</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   gain and thereby reduce the amount of privacy-sensitive information</span></td><td> </td><td class="rblock"><span class="insert">   expectation</span> that <span class="insert">it would</span> be <span class="insert">possible to have no part of the DNS</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   that <span class="delete">can</span> be <span class="delete">collected in one place.  The characteristics</span> of <span class="delete">different</span></td><td> </td><td class="rblock"><span class="insert">   infrastructure aware</span> of <span class="insert">what queries</span> are <span class="insert">being made, but perhaps</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   choices</span> are <span class="delete">examined.</span></td><td> </td><td class="rblock"><span class="insert">   there are mitigations that would make possible information collection</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   from the DNS infrastruture harder.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">An important outcome of</span> this <span class="delete">analysis</span> is <span class="delete">that simplistic methods for</span></td><td> </td><td class="rblock">   <span class="insert">It should be understood that</span> this is a <span class="insert">narrow aspect within</span> a <span class="insert">bigger</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   distributing queries - such as</span> a <span class="delete">round-robin algorithm - have</span></td><td> </td><td class="rblock"><span class="insert">   set of topics even within privacy issues around DNS, let alone other</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   considerably worse privacy characteristics than using</span> a <span class="delete">single</span></td><td> </td><td class="rblock"><span class="insert">   security issues, deployment models, or the many protocol questions</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   recursive resolver.</span></td><td> </td><td class="rblock"><span class="insert">   within DNS.  Some of these other topics include detecting the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   tampering DNS query responses [DNSSEC], encrypting DNS queries [DOT]</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   [DOH], application-specific DNS resolution mechanisms, or centralised</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   deployment models.  Those other topics are not covered in this memo</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   and need to be dealt with elsewhere.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">The rest</span> of this memo is <span class="delete">organized as follows.  Section 2 specifies</span></td><td> </td><td class="rblock">   <span class="insert">Specifically, the scope</span> of this memo is <span class="insert">not limited to DNS-over-TLS</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   the requirements that we would like such</span> a <span class="delete">distribution arrangement</span></td><td> </td><td class="rblock"><span class="insert">   (DOT) or DNS-over-HTTPS (DOH) deployments nor does it take</span> a <span class="insert">stand on</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   to <span class="delete">provide.  Section 3 discusses the different strategies, and makes</span></td><td> </td><td class="rblock"><span class="insert">   operating system vs. application or local vs. centralized DNS</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   some early recommendations among the strategies.  Section 6 discusses</span></td><td> </td><td class="rblock"><span class="insert">   deployment models.  This memo is intended</span> to <span class="insert">provide useful</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   potential further work in this area.</span></td><td> </td><td class="rblock"><span class="insert">   information for those that wish to consider trustworthiness of their</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   recursive resolvers as a part of their privacy analysis.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">2.  Goals and Constraints</td><td> </td><td class="rblock">   <span class="insert">Naturally, there are some interactions between different topics.  For</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   instance, privacy is affected both by what happens to data in transit</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   and at the endpoints, so where privacy is a concern, one would expect</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   to consider both aspects, and lack of consideration on one probably</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   leads to issues that dwarf the problems that this memo can address.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Both issues are also important aspects when considering defense again</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   pervasive monitoring efforts [PMON].</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   The rest of this memo is organized as follows.  Section 2 discusses</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   the operational context that we imagine the multiple recursive</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   resolver arrangement might be applied in.  Section 3 specifies</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   security goals for a system that employs multiple recursive</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   resolvers.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   One key aspect of a system using multiple resolvers would be how to</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   select which particular recursive resolver to use in a particular</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   situation.  This is discussed in Section 4.  This section covers a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   number of possible strategies and further considerations for this</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   selection, along with an analysis of the implications of choosing a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   particular strategy.  There are technical issues in the use of</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   multiple recursive resolvers, and there are both technical and non-</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   technical questions in deciding on what recursive resolvers should</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   even be in the set.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Some early recommendations are provided in Section 5.  Section 6</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   discusses operational and other implications of the distributed</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   approach.  Finally, Section 7 discusses potential further work in</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   this area.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">2.  <span class="insert">Operational Context</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Our perspective is that of a client, choosing to either distribute or</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   not distribute its queries to a set of different resolvers.  And if</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   the client decides to use distribution, it can choose exactly how it</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   does that.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   There are obviously additional operational aspect of this - such as</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   central configuration mechanisms, resolver selection application</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   choices, and so on.  But these are not covered in this memo.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   It should also be observed that the practices suggested in this memo</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   are currently not widely used.  Operational and other issues may be</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   discovered, such as those outlined in Section 6.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Many of these issues need further work, but this memo aims to discuss</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   the concept and analyse its impacts before dwelling into the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   technical arrangements for configuring and using this particular</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   approach.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">3.</span>  Goals and Constraints</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This document aims to reduce the concentration of information about</td><td> </td><td class="right">   This document aims to reduce the concentration of information about</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   client activity by distributing DNS queries across different resolver</td><td> </td><td class="right">   client activity by distributing DNS queries across different resolver</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   services, for all DNS queries in the aggregate and for DNS queries</td><td> </td><td class="right">   services, for all DNS queries in the aggregate and for DNS queries</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   made by individual clients.  By distributing queries in this way, the</td><td> </td><td class="right">   made by individual clients.  By distributing queries in this way, the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   goal is to reduce the amount of information that any given DNS</td><td> </td><td class="right">   goal is to reduce the amount of information that any given DNS</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   resolver service can acquire about client activity.</td><td> </td><td class="rblock">   resolver service can acquire about client activity.  <span class="insert">As such, creates</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   a benefit for the client, but also makes these resolvers less</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   valuable targets for attacks relating to that client's activity.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Any method for distributing queries from a single client needs to</td><td> </td><td class="right">   Any method for distributing queries from a single client needs to</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   consider <span class="delete">the risk of increasing the total amount of private</span></td><td> </td><td class="rblock">   consider these <span class="insert">benefits with regards</span> to <span class="insert">the following constraints:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   information that is exposed by distributing queries - and associated</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   information - to multiple DNS resolvers.  In the extreme, any design</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   that results in replicating the same query toward multiple services</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   would be a net privacy loss.  More subtle leaks arise as a result of</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   distributing queries for sub-domains and even domains that are</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   superficially unrelated, because</span> these <span class="delete">could share a commonality that</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   might be exploited</span> to <span class="delete">link them.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   For instance, some web sites use names that are appear unrelated to</td><td> </td><td class="rblock">   <span class="insert">o  A careful selection of the set of trusted resolvers must be the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   their primary name for hosting some kinds of content, like static</td><td> </td><td class="rblock"><span class="insert">      first priority.  It does not make sense to add less trustworthy</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   images or videos.  If queries for these unrelated names were sent to</td><td> </td><td class="rblock"><span class="insert">      resolvers merely for the sake of distribution.  For instance,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   different services, that effectively allows multiple resolvers to</td><td> </td><td class="rblock"><span class="insert">      there is no reason to mix resolvers with good reliability or high</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   learn that the client accessed the web site.</td><td> </td><td class="rblock"><span class="insert">      degree of privacy regulation with other resolvers: just include</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      the best resolvers in the set.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   o  As the goal is to reduce the amount of information given to any</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      given resolver, a strategy that tells the same information to all</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      resolvers is a poor one.  A design that results in replicating the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      same query toward multiple services would thus be a net privacy</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      loss.  This happens quite easily over a long period of time,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      unless the distribution method is carefully designed.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      More subtle leaks arise as a result of distributing queries for</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      sub-domains and even domains that are superficially unrelated,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      because these could share a commonality that might be exploited to</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      link them.</span>  For instance, some web sites use names that are appear</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">      unrelated to their primary name for hosting some kinds of content,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">      like static images or videos.  If queries for these unrelated</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">      names were sent to different services, that effectively allows</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">      multiple resolvers to learn that the client accessed the web site.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   A distribution scheme also needs to consider stability of query</td><td> </td><td class="right">   A distribution scheme also needs to consider stability of query</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   routing over time.  A resolver can <span class="delete">observve</span> the absence of queries</td><td> </td><td class="rblock">   routing over time.  A resolver can <span class="insert">observe</span> the absence of queries and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   and infer things about the state of a client cache, which can reveal</td><td> </td><td class="rblock">   infer things about the state of a client cache, which can reveal that</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   that queries were made to other resolvers.</td><td> </td><td class="rblock">   queries were made to other resolvers.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   In effect, there are two goals in tension:</td><td> </td><td class="right">   In effect, there are two goals in tension:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  to split queries between as many different resolvers as possible;</td><td> </td><td class="right">   o  to split queries between as many different resolvers as possible;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      and</td><td> </td><td class="right">      and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  to reduce the spread of information about related queries across</td><td> </td><td class="right">   o  to reduce the spread of information about related queries across</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      multiple resolvers.</td><td> </td><td class="right">      multiple resolvers.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The need to limit replication of private information about queries</td><td> </td><td class="right">   The need to limit replication of private information about queries</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   eliminates <span class="delete">simplistic</span> distribution schemes, such as those discussed</td><td> </td><td class="rblock">   eliminates <span class="insert">naive</span> distribution schemes, such as those discussed in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   in Section <span class="delete">5.</span>  The designs described in Section <span class="delete">3</span> all attempt to</td><td> </td><td class="rblock">   Section <span class="insert">5.1.</span>  The designs described in Section <span class="insert">4</span> all attempt to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   balance these different goals using different properties from the</td><td> </td><td class="right">   balance these different goals using different properties from the</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   context of a query (Section <span class="delete">3.1)</span> or the query name itself</td><td> </td><td class="rblock">   context of a query (Section <span class="insert">4.1)</span> or the query name itself</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   (Section <span class="delete">3.2).</span></td><td> </td><td class="rblock">   (Section <span class="insert">4.2).</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   Note that there are also other possible goals, e.g., around discovery</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   of DNS servers (see, e.g.,</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   [I-D.schinazi-httpbis-doh-preference-hints]).  These goals are</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   outside the scope of this memo, as it is only concerned with</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   selection from a set of known servers.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">3.  Query distribution algorithm</span>s</td><td> </td><td class="rblock"><span class="insert">4.  Query distribution strategie</span>s</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This section introduces and analyzes several potential strategies for</td><td> </td><td class="right">   This section introduces and analyzes several potential strategies for</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   distributing queries to different resolvers.  Each strategy is</td><td> </td><td class="right">   distributing queries to different resolvers.  Each strategy is</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   formulated as an algorithm for choosing a resolver Ri from a set of n</td><td> </td><td class="right">   formulated as an algorithm for choosing a resolver Ri from a set of n</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   resolvers R1, R2, ..., Rn.</td><td> </td><td class="right">   resolvers R1, R2, ..., Rn.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   The designs presented in Section <span class="delete">3</span> assume that the stub resolver</td><td> </td><td class="rblock">   The designs presented in Section <span class="insert">4</span> assume that the stub resolver</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   performing distribution of queries has varying degrees of contextual</td><td> </td><td class="right">   performing distribution of queries has varying degrees of contextual</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   information.  In general, more contextual information allows for</td><td> </td><td class="right">   information.  In general, more contextual information allows for</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   finer-grained distribution of information between resolvers.</td><td> </td><td class="right">   finer-grained distribution of information between resolvers.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">3</span>.1.  Client-based</td><td> </td><td class="rblock"><span class="insert">4</span>.1.  Client-based</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   The simplest <span class="delete">algorithm</span> is to distribute each different client to a</td><td> </td><td class="rblock">   The simplest <span class="insert">strategy</span> is to distribute each different client to a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   different resolver.  This reduces the number of users any particular</td><td> </td><td class="right">   different resolver.  This reduces the number of users any particular</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   service will know about.  However, this does little to protect an</td><td> </td><td class="right">   service will know about.  However, this does little to protect an</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   individual user from the aggregation of information about queries at</td><td> </td><td class="right">   individual user from the aggregation of information about queries at</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   the selected resolver.</td><td> </td><td class="right">   the selected resolver.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   In this design clients select and consistently use the same resolver.</td><td> </td><td class="right">   In this design clients select and consistently use the same resolver.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   This might be achieved by randomly selecting and remembering a</td><td> </td><td class="right">   This might be achieved by randomly selecting and remembering a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   resolver.  Alternatively, a resolver might be selected using</td><td> </td><td class="right">   resolver.  Alternatively, a resolver might be selected using</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   consistent hashing that takes some conception of client identity as</td><td> </td><td class="right">   consistent hashing that takes some conception of client identity as</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   input:</td><td> </td><td class="right">   input:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   i = h(client identity) % n</td><td> </td><td class="right">   i = h(client identity) % n</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   For the purposes of this determination, a client might be an entire</td><td> </td><td class="right">   For the purposes of this determination, a client might be an entire</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   device, with the selection being made at the operating system level,</td><td> </td><td class="right">   device, with the selection being made at the operating system level,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   or it could be a selection made by individual applications.  In the</td><td> </td><td class="right">   or it could be a selection made by individual applications.  In the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   extreme, an individual application might be able to partition its</td><td> </td><td class="right">   extreme, an individual application might be able to partition its</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   activities in a way that allows it to direct queries to multiple</td><td> </td><td class="right">   activities in a way that allows it to direct queries to multiple</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   resolvers.</td><td> </td><td class="right">   resolvers.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">3</span>.1.1.  Analysis of client-based selection</td><td> </td><td class="rblock"><span class="insert">4</span>.1.1.  Analysis of client-based selection</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">Where different applications make independent resolver selections,</span></td><td> </td><td class="rblock">   <span class="insert">This is a simple and effective strategy, but while it provides</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   activities that involve multiple applications can result</span> in</td><td> </td><td class="rblock"><span class="insert">   distribution of DNS queries</span> in <span class="insert">the aggregate, it does little to</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   information about <span class="delete">those activities being exposed to multiple</span></td><td> </td><td class="rblock"><span class="insert">   divide</span> information about <span class="insert">a particular client between</span> resolvers.  <span class="insert">It</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   resolvers.  <span class="delete">For instance, an application could open another</span></td><td> </td><td class="rblock"><span class="insert">   effectively only reduces</span> the <span class="insert">number</span> of <span class="insert">clients that each resolver can</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   application for</span> the <span class="delete">purposes</span> of <span class="delete">handling a specific file type or to</span></td><td> </td><td class="rblock"><span class="insert">   acquire information about.</span>  This <span class="insert">provides systemic benefit, but does</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   load a URL.</span>  This <span class="delete">could expose queries related to the activity</span> as a</td><td> </td><td class="rblock"><span class="insert">   not provide individual clients with any significant advantage</span> as</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">whole to multiple resolvers.</span></td><td> </td><td class="rblock">   <span class="insert">there is still some resolver service that has</span> a <span class="insert">complete view of the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   user's DNS usage patterns.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">Even making</span> different <span class="delete">selections at the level of a device</span> can result</td><td> </td><td class="rblock">   <span class="insert">In addition, there are specific issues where this selection method is</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   in <span class="delete">replicating related</span> information to multiple resolvers.  For</td><td> </td><td class="rblock"><span class="insert">   used in particular deployment modes.  Where</span> different <span class="insert">applications</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   instance, an <span class="delete">individual who uses a particular</span> application <span class="delete">on multiple</span></td><td> </td><td class="rblock"><span class="insert">   make independent resolver selections, activities that involve</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   devices might perform similar activities on those devices, but have</span></td><td> </td><td class="rblock"><span class="insert">   multiple applications</span> can result in information <span class="insert">about those</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   DNS</span> queries <span class="delete">distributed</span> to <span class="delete">different</span> resolvers.</td><td> </td><td class="rblock"><span class="insert">   activities being exposed</span> to multiple resolvers.  For instance, an</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   application <span class="insert">could open another application for the purposes of</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   handling a specific file type or to load a URL.  This could expose</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   queries <span class="insert">related</span> to <span class="insert">the activity as a whole to multiple</span> resolvers.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">While</span> this <span class="delete">algorithm provides distribution</span> of DNS queries <span class="delete">in the</span></td><td> </td><td class="rblock">   <span class="insert">Making different selections at the level of a device resolves</span> this</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   aggregate, it does little</span> to <span class="delete">divide information about a particular</span></td><td> </td><td class="rblock">   <span class="insert">issue.  But</span> of <span class="insert">course it is still possible that an individual who</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   client between resolvers.  It effectively only reduces the number of</span></td><td> </td><td class="rblock"><span class="insert">   uses multiple devices might perform similar activities on those</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   clients</span> that <span class="delete">each resolver can acquire</span> information <span class="delete">about.  This</span></td><td> </td><td class="rblock"><span class="insert">   devices, but have</span> DNS queries <span class="insert">distributed</span> to <span class="insert">different resolvers,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   provides systemic benefit, but does not provide</span> individual <span class="delete">clients</span></td><td> </td><td class="rblock"><span class="insert">   resulting in replicating</span> that <span class="insert">individual's</span> information <span class="insert">to multiple</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   with any significant advantage as there is still some resolver</span></td><td> </td><td class="rblock"><span class="insert">   resolvers.  The</span> individual <span class="insert">may or may not be identifiable through</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   service that has a complete view</span> of the <span class="delete">user's DNS usage patterns.</span></td><td> </td><td class="rblock"><span class="insert">   fingerprinting</span> of the <span class="insert">specific set of queries being made from the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   devices.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">3</span>.1.2.  Enhancements to client-based selection</td><td> </td><td class="rblock"><span class="insert">4</span>.1.2.  Enhancements to client-based selection</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Clients can break continuity of records by occasionally resetting</td><td> </td><td class="right">   Clients can break continuity of records by occasionally resetting</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   state so that a different resolver is selected.  A client might</td><td> </td><td class="right">   state so that a different resolver is selected.  A client might</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   choose to do this when it <span class="delete">shuts down, or when it</span> moves to a new</td><td> </td><td class="rblock">   choose to do this when it moves to a new network <span class="insert">location, and may</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   network <span class="delete">location.</span></td><td> </td><td class="rblock"><span class="insert">   otherwise appear as a new client its current resolver.  But it is</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   unclear if there's a sufficient advantage to breaking continuity, as</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   the potential benefits are offset by the client's information being</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   disclosed to several resolvers as part of performing a series of</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   resets.  And it is possible that a particular individual's usage</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   patterns can be identified across network locations and periods of</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   using other resolvers.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Breaking continuity is less effective if any state, in particular</td><td> </td><td class="right">   Breaking continuity is less effective if any state, in particular</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   cached results, is retained across the change.  If activities that</td><td> </td><td class="right">   cached results, is retained across the change.  If activities that</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   depend on DNS querying are continued across the change then it might</td><td> </td><td class="right">   depend on DNS querying are continued across the change then it might</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   be possible for the old resolver to make inferences about the</td><td> </td><td class="right">   be possible for the old resolver to make inferences about the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   activity on the new resolver, or the new resolver to make similar</td><td> </td><td class="right">   activity on the new resolver, or the new resolver to make similar</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   guesses about past activity.  As many modern applications provide</td><td> </td><td class="right">   guesses about past activity.  As many modern applications provide</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   session continuity features across shutdowns and crashes, this can</td><td> </td><td class="right">   session continuity features across shutdowns and crashes, this can</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   mean that finding an appropriate point in time to perform a <span class="delete">switch.</span></td><td> </td><td class="rblock">   mean that finding an appropriate point in time to perform a <span class="insert">switch</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   can be difficult.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0029" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">3</span>.2.  Name-based</td><td> </td><td class="rblock"><span class="insert">4</span>.2.  Name-based</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Clients might also additionally attempt to distribute queries based</td><td> </td><td class="right">   Clients might also additionally attempt to distribute queries based</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   on the name being queried.  This results in different names going to</td><td> </td><td class="right">   on the name being queried.  This results in different names going to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   different resolvers.</td><td> </td><td class="right">   different resolvers.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   A naive algorithm for name distribution uses the target name as input</td><td> </td><td class="right">   A naive algorithm for name distribution uses the target name as input</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   to a fixed hash:</td><td> </td><td class="right">   to a fixed hash:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   i = h(queried name) % n</td><td> </td><td class="right">   i = h(queried name) % n</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   However, this simplistic approach fails to prevent related queries</td><td> </td><td class="right">   However, this simplistic approach fails to prevent related queries</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   from being distributed to different resolvers in several ways.  For</td><td> </td><td class="right">   from being distributed to different resolvers in several ways.  For</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   instance, queries that are executed after receiving a CNAME record in</td><td> </td><td class="right">   instance, queries that are executed after receiving a CNAME record in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   a response will leak the same information as the original query that</td><td> </td><td class="right">   a response will leak the same information as the original query that</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   resulted in the CNAME record.  Services that use related domain names</td><td> </td><td class="right">   resulted in the CNAME record.  Services that use related domain names</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   - such as where "example.com" uses "static.example.com" or</td><td> </td><td class="right">   - such as where "example.com" uses "static.example.com" or</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0030" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   "cdn.example" - might reveal the use of the combined service to a</td><td> </td><td class="rblock">   "cdn.example<span class="insert">.net</span>" - might reveal the use of the combined service to a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   resolver that receives a query for any associated name.  In both</td><td> </td><td class="right">   resolver that receives a query for any associated name.  In both</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   cases, sensitive information is effectively replicated across</td><td> </td><td class="right">   cases, sensitive information is effectively replicated across</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   multiple resolvers.</td><td> </td><td class="right">   multiple resolvers.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0031" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">3</span>.2.1.  Name reduction</td><td> </td><td class="rblock"><span class="insert">4</span>.2.1.  Name reduction</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   In order to reduce the effect of distributing similar names to</td><td> </td><td class="right">   In order to reduce the effect of distributing similar names to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   different servers, a grouping mechanism might be used.  Leading</td><td> </td><td class="right">   different servers, a grouping mechanism might be used.  Leading</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   labels in names might be erased before being input to the hashing</td><td> </td><td class="right">   labels in names might be erased before being input to the hashing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   algorithm.  This requires that the part of the suffix that is shared</td><td> </td><td class="right">   algorithm.  This requires that the part of the suffix that is shared</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   between different services can be identified.  For the purposes of</td><td> </td><td class="right">   between different services can be identified.  For the purposes of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   ensuring that queries are consistently routed to the same resolver, a</td><td> </td><td class="right">   ensuring that queries are consistently routed to the same resolver, a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   weak signal is likely sufficient.</td><td> </td><td class="right">   weak signal is likely sufficient.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Several options for grouping domain names into equivalence sets might</td><td> </td><td class="right">   Several options for grouping domain names into equivalence sets might</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> page 7, line 26</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> page 8, line 41</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      eTLD+1 domains.  Developing equivalence sets might be needed to</td><td> </td><td class="right">      eTLD+1 domains.  Developing equivalence sets might be needed to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      avoid broadcasting queries to servers.  Mozilla maintains a</td><td> </td><td class="right">      avoid broadcasting queries to servers.  Mozilla maintains a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      manually curated equivalence list [2] for web sites that aims to</td><td> </td><td class="right">      manually curated equivalence list [2] for web sites that aims to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      maps the complete set of unrelated names used by services to a</td><td> </td><td class="right">      maps the complete set of unrelated names used by services to a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      single service name.</td><td> </td><td class="right">      single service name.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   o  Other technologies, such as the proposed first party sets [3] or</td><td> </td><td class="right">   o  Other technologies, such as the proposed first party sets [3] or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      the abandoned DBOUND [DBOUND] provide domain owners a means to</td><td> </td><td class="right">      the abandoned DBOUND [DBOUND] provide domain owners a means to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">      declare some form of equivalence for different names.</td><td> </td><td class="right">      declare some form of equivalence for different names.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0032" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   Each of these techniques are <span class="delete">potentially unreliable</span> in different</td><td> </td><td class="rblock">   Each of these techniques are <span class="insert">imperfect</span> in different ways.  <span class="insert">They may</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   ways.  <span class="delete">Additionally, these could</span> skew the distribution of queries in</td><td> </td><td class="rblock"><span class="insert">   also</span> skew the distribution of queries in ways that might concentrate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   ways that might concentrate information on particular resolvers.</td><td> </td><td class="rblock">   information on particular resolvers.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0033" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">4.</span>  Effects of query distribution</td><td> </td><td class="rblock"><span class="insert">5.  Early conclusions</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Both the client-based and more advanced name-based strategies provide</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   benefits.  The former provides primarily a systemic benefit, while</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   the latter provides also some privacy benefits to each individual</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   client.  However, neither strategy is perfect, and can leak the same</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   information to multiple resolvers in some cases.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Both strategies are, however, likely generally beneficial in the</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   common cases, and can improve the overall privacy situation.  And</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   they are certainly a considerable privacy improvement over a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   situation where a large number of clients use a single resolver.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Their use may also reduce any pressures against specific resolvers,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   as information available in these specific resolvers does not</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   constitute all information about all clients.  As such, the use of</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   one of these distribution strategies is tentatively recommended,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   subject to further testing, discussion, and resolving any remaining</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   operational issues.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   The naive name-based strategy is, however, not recommended, and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   neither are other, even simpler strategies listed in Section 5.1.  It</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   should be noted that no technique presented in this memo can defend</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   against a situation where an actor such as a surveillance agency has</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   access to information from all resolvers.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">5.1.  Poor distribution strategies</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Random allocation to a resolver might be implemented:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   i = rand() % n</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Similar drawbacks can be seen where clients iterate over available</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   resolvers:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   i = counter++ % n</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Whether this choice is made on a per-query basis, these two methods</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   eventually provide information about all queries to all resolvers</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   over time.  Domain names are often queried many times over long</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   periods, so queries for the same domain name will eventually be</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   distributed to all resolvers.  Only one-off queries will avoid being</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   distributed.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Implementing either method at a much slower cadence might be</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   effective, subject to the constraints in Section 4.1.2.  This only</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   slows the distribution of information about repeated queries to all</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   resolvers.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">6.</span>  Effects of query distribution</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Choosing to use more than one DNS resolver has broader implications</td><td> </td><td class="right">   Choosing to use more than one DNS resolver has broader implications</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   than just the effect on privacy.  Using multiple resolvers is a</td><td> </td><td class="right">   than just the effect on privacy.  Using multiple resolvers is a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   significant change from the assumed model where stub resolvers send</td><td> </td><td class="right">   significant change from the assumed model where stub resolvers send</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   all queries to a single resolver.</td><td> </td><td class="right">   all queries to a single resolver.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0034" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">4</span>.1.  Caching considerations</td><td> </td><td class="rblock"><span class="insert">6</span>.1.  Caching considerations</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Using a common cache for multiple resolvers introduces the</td><td> </td><td class="right">   Using a common cache for multiple resolvers introduces the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   possibility that a resolver could learn about queries that were</td><td> </td><td class="right">   possibility that a resolver could learn about queries that were</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   originally directed to another resolvers by observing the absence of</td><td> </td><td class="right">   originally directed to another resolvers by observing the absence of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   queries.  Though this can reduce caching performance, clients can</td><td> </td><td class="right">   queries.  Though this can reduce caching performance, clients can</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   address this by having a per-resolver cache and only using the cache</td><td> </td><td class="right">   address this by having a per-resolver cache and only using the cache</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   for the selected resolver.</td><td> </td><td class="right">   for the selected resolver.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0035" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">4</span>.2.  Consistency considerations</td><td> </td><td class="rblock"><span class="insert">6</span>.2.  Consistency considerations</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Making the same query to multiple resolvers can result in different</td><td> </td><td class="right">   Making the same query to multiple resolvers can result in different</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   answers.  For instance, DNS-based load balancing can lead to</td><td> </td><td class="right">   answers.  For instance, DNS-based load balancing can lead to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   different answers being produced over time or for different query</td><td> </td><td class="right">   different answers being produced over time or for different query</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   origins.  Or, different resolvers might have different policies with</td><td> </td><td class="right">   origins.  Or, different resolvers might have different policies with</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   respect to blocking or filtering of queries that lead to clients</td><td> </td><td class="right">   respect to blocking or filtering of queries that lead to clients</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   receiving inconsistent answers.</td><td> </td><td class="right">   receiving inconsistent answers.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   In the extreme, an application might encounter errors as a result of</td><td> </td><td class="right">   In the extreme, an application might encounter errors as a result of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   receiving incompatible answers, particularly if a server operator</td><td> </td><td class="right">   receiving incompatible answers, particularly if a server operator</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   (incorrectly) assumes that different DNS queries for the same client</td><td> </td><td class="right">   (incorrectly) assumes that different DNS queries for the same client</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   always originate from the same source address.  This is most likely</td><td> </td><td class="right">   always originate from the same source address.  This is most likely</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   to occur if name-based selection is used, as queries could be related</td><td> </td><td class="right">   to occur if name-based selection is used, as queries could be related</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   based on information that the client does not consider.</td><td> </td><td class="right">   based on information that the client does not consider.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0036" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">4.3.  Resolver load distribution</span></td><td> </td><td class="rblock"><span class="insert">6.3.  Resolver load distribution and failover</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Any selection of resolvers that is based on random inputs will need</td><td> </td><td class="right">   Any selection of resolvers that is based on random inputs will need</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   to account for available capacity on resolvers.  Otherwise, resolvers</td><td> </td><td class="right">   to account for available capacity on resolvers.  Otherwise, resolvers</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   with less available query-processing capacity will receive too high a</td><td> </td><td class="right">   with less available query-processing capacity will receive too high a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   proportion of all queries.  Clients only need to be informed of</td><td> </td><td class="right">   proportion of all queries.  Clients only need to be informed of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   relative available capacity in order to make an appropriate</td><td> </td><td class="right">   relative available capacity in order to make an appropriate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   selection.  How relative capacities of resolvers are determined is</td><td> </td><td class="right">   selection.  How relative capacities of resolvers are determined is</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   not in scope for this document.</td><td> </td><td class="right">   not in scope for this document.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0037" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">4.4.</span>  Query performance</td><td> </td><td class="rblock">   <span class="insert">The choice of different resolvers would also need to work well with</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   whatever mechanisms exist for failover to alternate resolvers when</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   one is not responsive.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">6.4.</span>  Query performance</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Distribution of queries between resolvers also means that clients are</td><td> </td><td class="right">   Distribution of queries between resolvers also means that clients are</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   exposed to greater variations in performance.</td><td> </td><td class="right">   exposed to greater variations in performance.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0038" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">5.  Poor distribution algorithms</span></td><td> </td><td class="rblock"><span class="insert">6.5.  Debugging</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   Random allocation to a resolver might be implemented:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0039" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">i = rand() % n</span></td><td> </td><td class="rblock">   <span class="insert">The use of multiple resolvers may complicate debugging.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0040" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">Similar drawbacks can be seen where clients iterate over available</span></td><td> </td><td class="rblock"><span class="insert">7.  Further work</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   resolvers:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0041" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">i = counter++ % n</span></td><td> </td><td class="rblock">   <span class="insert">Should there be interest in the deployment of ideas laid out in this</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   memo, further work is needed.  There would have to be ways to</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   configure systems to use multiple resolvers, including for instance:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0042" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">Whether this choice is made on a per-query basis, these two methods</span></td><td> </td><td class="rblock">   <span class="insert">o  Central configuration mechanisms</span> to <span class="insert">enable</span> the <span class="insert">use of multiple</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   eventually provide information about all queries</span> to <span class="delete">all resolvers</span></td><td> </td><td class="rblock"><span class="insert">      resolvers, perhaps through usual network configuration mechanisms</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   over time.  Domain names are often queried many times over long</span></td><td> </td><td class="rblock"><span class="insert">      or choices made by applications using resolver services directly.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   periods, so queries for</span> the <span class="delete">same domain name will eventually</span> be</td><td> </td><td class="rblock"><span class="insert">      It may also</span> be <span class="insert">necessary</span> to <span class="insert">employ discovery mechanisms, such as,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">distributed</span> to <span class="delete">all resolvers.  Only one-off queries will avoid being</span></td><td> </td><td class="rblock"><span class="insert">      e.g., [I-D.schinazi-httpbis-doh-preference-hints]  (but see</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   distributed.</span></td><td> </td><td class="rblock"><span class="insert">      Section 3).</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0043" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">Implementing either method at a much slower cadence might be</span></td><td> </td><td class="rblock">   <span class="insert">o  Mechanisms</span> to <span class="insert">allow both failover</span> to <span class="insert">working resolvers when a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   effective, subject</span> to <span class="delete">the constraints in Section 3.1.2.  This only</span></td><td> </td><td class="rblock"><span class="insert">      resolver is unreachable,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   slows the distribution of information about repeated queries</span> to <span class="delete">all</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">   resolvers.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0044" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">6.  Further work</span></td><td> </td><td class="rblock">   <span class="insert">o  Additional testing for potential operational issues discussed in</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      Section 2 would be beneficial.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0045" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   <span class="delete">More</span> work is needed to determine factors other than privacy that</td><td> </td><td class="rblock">   <span class="insert">Finally, more</span> work is needed to determine factors other than privacy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   could motivate having queries routed to the same resolver.</td><td> </td><td class="rblock">   that could motivate having queries routed to the same resolver.  <span class="insert">The</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   choice between different approaches is often a combination of several</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   factors, and privacy is only one of those factors.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0046" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">7</span>.  References</td><td> </td><td class="rblock"><span class="insert">8</span>.  References</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0047" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">7</span>.1.  Normative References</td><td> </td><td class="rblock"><span class="insert">8</span>.1.  Normative References</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [DNS]      Mockapetris, P., "Domain names - implementation and</td><td> </td><td class="right">   [DNS]      Mockapetris, P., "Domain names - implementation and</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              specification", STD 13, RFC 1035, DOI 10.17487/RFC1035,</td><td> </td><td class="right">              specification", STD 13, RFC 1035, DOI 10.17487/RFC1035,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              November 1987, &lt;https://www.rfc-editor.org/info/rfc1035&gt;.</td><td> </td><td class="right">              November 1987, &lt;https://www.rfc-editor.org/info/rfc1035&gt;.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0048" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">[DNSSEC]   Arends, R., Austein, R., Larson, M., Massey, D., and S.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              Rose, "DNS Security Introduction and Requirements",</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              RFC 4033, DOI 10.17487/RFC4033, March 2005,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              &lt;https://www.rfc-editor.org/info/rfc4033&gt;.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [DOH]      Hoffman, P. and P. McManus, "DNS Queries over HTTPS</td><td> </td><td class="right">   [DOH]      Hoffman, P. and P. McManus, "DNS Queries over HTTPS</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              (DoH)", RFC 8484, DOI 10.17487/RFC8484, October 2018,</td><td> </td><td class="right">              (DoH)", RFC 8484, DOI 10.17487/RFC8484, October 2018,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc8484&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc8484&gt;.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [DOT]      Hu, Z., Zhu, L., Heidemann, J., Mankin, A., Wessels, D.,</td><td> </td><td class="right">   [DOT]      Hu, Z., Zhu, L., Heidemann, J., Mankin, A., Wessels, D.,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              and P. Hoffman, "Specification for DNS over Transport</td><td> </td><td class="right">              and P. Hoffman, "Specification for DNS over Transport</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Layer Security (TLS)", RFC 7858, DOI 10.17487/RFC7858, May</td><td> </td><td class="right">              Layer Security (TLS)", RFC 7858, DOI 10.17487/RFC7858, May</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              2016, &lt;https://www.rfc-editor.org/info/rfc7858&gt;.</td><td> </td><td class="right">              2016, &lt;https://www.rfc-editor.org/info/rfc7858&gt;.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0049" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">7.2.</span>  Informative References</td><td> </td><td class="rblock">   <span class="insert">[PMON]     Farrell, S. and H. Tschofenig, "Pervasive Monitoring Is an</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              Attack", BCP 188, RFC 7258, DOI 10.17487/RFC7258, May</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              2014, &lt;https://www.rfc-editor.org/info/rfc7258&gt;.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">8.2.</span>  Informative References</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [DBOUND]   Levine, J., "Publishing Organization Boundaries in the</td><td> </td><td class="right">   [DBOUND]   Levine, J., "Publishing Organization Boundaries in the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              DNS", draft-levine-dbound-dns-03 (work in progress), April</td><td> </td><td class="right">              DNS", draft-levine-dbound-dns-03 (work in progress), April</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              2019.</td><td> </td><td class="right">              2019.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [I-D.schinazi-httpbis-doh-preference-hints]</td><td> </td><td class="right">   [I-D.schinazi-httpbis-doh-preference-hints]</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Schinazi, D., Sullivan, N., and J. Kipp, "DoH Preference</td><td> </td><td class="right">              Schinazi, D., Sullivan, N., and J. Kipp, "DoH Preference</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Hints for HTTP", draft-schinazi-httpbis-doh-preference-</td><td> </td><td class="right">              Hints for HTTP", draft-schinazi-httpbis-doh-preference-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              hints-00 (work in progress), July 2019.</td><td> </td><td class="right">              hints-00 (work in progress), July 2019.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [MSCVUS]   Wikipedia, ., "Microsoft Corp. v. United States",</td><td> </td><td class="right">   [MSCVUS]   Wikipedia, ., "Microsoft Corp. v. United States",</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              https://en.wikipedia.org/wiki/</td><td> </td><td class="right">              https://en.wikipedia.org/wiki/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">              Microsoft_Corp._v._United_States , n.d..</td><td> </td><td class="right">              Microsoft_Corp._v._United_States , n.d..</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0050" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">7</span>.3.  URIs</td><td> </td><td class="rblock"><span class="insert">8</span>.3.  URIs</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [1] https://publicsuffix.org/</td><td> </td><td class="right">   [1] https://publicsuffix.org/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [2] https://github.com/mozilla-services/shavar-prod-</td><td> </td><td class="right">   [2] https://github.com/mozilla-services/shavar-prod-</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       lists/blob/master/disconnect-entitylist.json</td><td> </td><td class="right">       lists/blob/master/disconnect-entitylist.json</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   [3] https://github.com/krgovind/first-party-sets</td><td> </td><td class="right">   [3] https://github.com/krgovind/first-party-sets</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Appendix A.  Acknowledgements</td><td> </td><td class="right">Appendix A.  Acknowledgements</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   The authors would like to thank Christian Huitema, Ari Keraenen, Mark</td><td> </td><td class="right">   The authors would like to thank Christian Huitema, Ari Keraenen, Mark</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Nottingham, Stephen Farrell, Gonzalo Camarillo, Mirja Kuehlewind,</td><td> </td><td class="right">   Nottingham, Stephen Farrell, Gonzalo Camarillo, Mirja Kuehlewind,</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0051" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   David Allan, Daniel Migault and many others for interesting</td><td> </td><td class="rblock">   David Allan, Daniel Migault <span class="insert">Goran AP Eriksson,</span> and many others for</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">   discussions in this problem space.</td><td> </td><td class="rblock">   interesting discussions in this problem space.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Authors' Addresses</td><td> </td><td class="right">Authors' Addresses</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Jari Arkko</td><td> </td><td class="right">   Jari Arkko</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Ericsson</td><td> </td><td class="right">   Ericsson</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Email: jari.arkko@piuha.net</td><td> </td><td class="right">   Email: jari.arkko@piuha.net</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0052" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                                                         </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Martin Thomson</td><td> </td><td class="right">   Martin Thomson</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Mozilla</td><td> </td><td class="right">   Mozilla</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Email: martin.thomson@gmail.com</td><td> </td><td class="right">   Email: martin.thomson@gmail.com</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Ted Hardie</td><td> </td><td class="right">   Ted Hardie</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Google</td><td> </td><td class="right">   Google</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   Email: ted.ietf@gmail.com</td><td> </td><td class="right">   Email: ted.ietf@gmail.com</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 52 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>155 lines changed or deleted</i></th><th><i> </i></th><th><i>286 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.34. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
